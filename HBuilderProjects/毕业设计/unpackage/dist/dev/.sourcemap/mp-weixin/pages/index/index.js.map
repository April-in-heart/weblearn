{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/JL/Documents/毕业设计/pages/index/index.vue?9fc9","webpack:///C:/Users/JL/Documents/毕业设计/pages/index/index.vue?aa33","webpack:///C:/Users/JL/Documents/毕业设计/pages/index/index.vue?39d7","uni-app:///pages/index/index.vue","webpack:///C:/Users/JL/Documents/毕业设计/pages/index/index.vue?3285","webpack:///C:/Users/JL/Documents/毕业设计/pages/index/index.vue?476b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAA0vB,CAAgB,+wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6D9wB;AACA,MADA,kBACA;AACA;AACA,cADA;AAEA,kBAFA;AAGA,kBAHA;AAIA,cAJA;AAKA,oNALA;AAMA,eANA;;AAQA,GAVA;AAWA,QAXA,kBAWA,CAXA,EAWA;AACA;AACA;AACA,kBADA;;AAGA;AACA;AACA,sBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA,MAOA;AACA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA,MAOA;AACA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA,MAOA;AACA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,WALA;AAMA;AACA,OArCA;;AAuCA,GAxDA;AAyDA,SAzDA,qBAyDA;AACA;AACA;AACA,KAFA,EAEA,GAFA;AAGA,GA7DA;AA8DA;AACA,aADA,uBACA;AACA;AACA;AACA,oBADA;;AAGA,KANA;AAOA;AACA,aARA,qBAQA,CARA,EAQA;AACA;AACA;AACA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA,yBADA;AAEA,kCAFA;;AAIA;AACA,qCADA;;AAGA,OAXA;AAYA,KAxBA;AAyBA,cAzBA,wBAyBA;AACA;AACA;AACA,oBADA;;AAGA,KA9BA;AA+BA;AACA,cAhCA,sBAgCA,CAhCA,EAgCA;AACA;AACA;AACA;AACA,0BADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBApCA;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,6BAFA;AAGA,sBAHA;;AAKA;AACA,cADA,CACA;AACA;AACA;AACA,6BADA;AAEA,sCAFA;;AAIA;AACA;AACA,iCADA;;AAGA,WAXA;AAYA,SAtEA;AAuEA,YAvEA,gBAuEA,CAvEA,EAuEA,iBAvEA;AAwEA,gBAxEA,sBAwEA,EAxEA;;AA0EA,KA7GA;AA8GA,eA9GA,yBA8GA;AACA;AACA;AACA,oBADA;;AAGA,KAnHA;AAoHA,eApHA,uBAoHA,CApHA,EAoHA;AACA;AACA;AACA,0BADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBApCA;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,iCAFA;AAGA;AACA,sBAJA;;AAMA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,6BADA;AAEA,sCAFA;;AAIA;AACA,6CADA;;AAGA,WAXA;AAYA,SArEA;AAsEA,YAtEA,gBAsEA,CAtEA,EAsEA,iBAtEA;AAuEA,gBAvEA,sBAuEA,EAvEA;;AAyEA,KA/LA;AAgMA,QAhMA,gBAgMA,CAhMA,EAgMA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;;AAGA,OAJA,MAIA;AACA;AACA,iCADA;;AAGA,OAJA,MAIA;AACA;AACA,iCADA;;AAGA,OAJA,MAIA;AACA;AACA,gCADA;;AAGA,OAJA,MAIA;AACA;AACA,oCADA;;AAGA;AACA,KAzNA,EA9DA,E;;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAA0kC,CAAgB,okCAAG,EAAC,C;;;;;;;;;;;ACA9lC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    uSteps: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-steps/u-steps\" */ \"@/uview-ui/components/u-steps/u-steps.vue\"\n      )\n    },\n    uStepsItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-steps-item/u-steps-item\" */ \"@/uview-ui/components/u-steps-item/u-steps-item.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 若当前无数据 -->\r\n\t\t<view v-if=\"length==0\" class=\"none\">当前无数据</view>\r\n\t\t<!-- current   0:等待熬制   1:熬制中  2:等待配送   3:配送完成  -->\r\n\t\t<!-- 用户 -->\r\n\t\t<view v-if=\"identity==='用户'\">\r\n\t\t\t<view class=\"box\" v-for=\"(item,index) in item\" :key=\"item._id\" :data-id=\"item._id\" v-if=\"item.current!=3\" @click=\"drugInfo2\">\r\n\t\t\t\t<view style=\"margin: 0 0 50rpx 20rpx;\">当前订单号：{{item._id}}</view>\r\n\t\t\t\t<u-steps :current=\"item.current\">\r\n\t\t\t\t\t<u-steps-item title=\"已出单\" :desc=\"item.startTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"熬制中\" :desc=\"item.decoctTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"运输中\" :desc=\"item.distribTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"订单完成\" :desc=\"item.endTime\"></u-steps-item>\r\n\t\t\t\t</u-steps>\r\n\t\t\t\t<button class=\"btn\" @click=\"drugInfo1\">查看详情</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 熬制人员 -->\r\n\t\t<!-- 多个人员从订单池选择订单，选择后改变状态其他人不可选，扫描二维码添加药物熬制，熬制完成distribTime变为只有hms，current变为1 -->\r\n\t\t<view v-if=\"identity==='熬制人员'\">\r\n\t\t\t<view class=\"box\" v-for=\"(item,index) in item\" :key=\"item._id\" :data-id=\"item._id\" v-if=\"item.current==0\" @click=\"docEnsure2\">\r\n\t\t\t\t<view style=\"margin: 0 0 50rpx 20rpx;\">当前订单号：{{item._id}}</view>\r\n\t\t\t\t<u-steps :current=\"item.current\">\r\n\t\t\t\t\t<u-steps-item title=\"已出单\" :desc=\"item.startTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"熬制中\" :desc=\"item.decoctTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"运输中\" :desc=\"item.distribTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"订单完成\" :desc=\"item.endTime\"></u-steps-item>\r\n\t\t\t\t</u-steps>\r\n\t\t\t\t<button class=\"btn\" @click=\"docEnsure1\">开始抓药</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 配送人员 -->\r\n\t\t<view v-if=\"identity==='配送人员'\">\r\n\t\t\t<view class=\"box\" v-for=\"(item,index) in item\" :key=\"item._id\" :data-id=\"item._id\" v-if=\"item.current==2\" @click=\"distEnsure2\">\r\n\t\t\t\t<view style=\"margin: 0 0 50rpx 20rpx;\">当前订单号：{{item._id}}</view>\r\n\t\t\t\t<u-steps :current=\"item.current\">\r\n\t\t\t\t\t<u-steps-item title=\"已出单\" :desc=\"item.startTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"熬制中\" :desc=\"item.decoctTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"运输中\" :desc=\"item.distribTime\"></u-steps-item>\r\n\t\t\t\t\t<u-steps-item title=\"订单完成\" :desc=\"item.endTime\"></u-steps-item>\r\n\t\t\t\t</u-steps>\r\n\t\t\t\t<button class=\"btn\" @click=\"distEnsure1\">接单</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 管理员 -->\r\n\t\t<view v-if=\"identity==='管理员'\">\r\n\t\t\t<view class=\"box2\">\r\n\t\t\t\t<view class=\"menu\" v-for=\"(item,index) in menus\" :key=\"index\" :data-menu=item[0] @click=\"goto\">\r\n\t\t\t\t\t<image style=\"width: 15vw\" mode=\"widthFix\" :src=\"item[1]\"></image>\r\n\t\t\t\t\t<text>{{item[0]}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname:'',\r\n\t\t\t\tusername:'',\r\n\t\t\t\tidentity:'',\r\n\t\t\t\titem:[],\r\n\t\t\t\tmenus:[['搜索订单','../../static/img/view.png'],['修改订单','../../static/img/change2.png'],['添加用户','../../static/img/addp.png'],['修改用户','../../static/img/change.png'],['添加机器','../../static/img/add.png']],\r\n\t\t\t\tlength:1,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tlet that=this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:'加载中'\r\n\t\t\t})\r\n\t\t\t//获取用户信息\r\n\t\t\tuni.getStorage({\r\n\t\t\t    key: 'user_info',\r\n\t\t\t    success: function (res) {\r\n\t\t\t\t\tthat.name=res.data.username;\r\n\t\t\t\t\tthat.identity=res.data.default;\r\n\t\t\t        console.log(that.identity+'身份获取成功');\r\n\t\t\t\t\t//根据name连接数据库获取订单数据\r\n\t\t\t\t\tconst db=uniCloud.database();\r\n\t\t\t\t\tif(res.data.default=='用户'){\r\n\t\t\t\t\t\tdb.collection('Order_form').where({username:that.name}).get()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthat.length=res.result.data.length;\r\n\t\t\t\t\t\t\tconsole.log(res.result.data.length)\r\n\t\t\t\t\t\t\tthat.item=res.result.data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else if(res.data.default=='熬制人员'){\r\n\t\t\t\t\t\tdb.collection('Order_form').where({current:0}).get()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthat.length=res.result.data.length;\r\n\t\t\t\t\t\t\tconsole.log(res.result.data.length)\r\n\t\t\t\t\t\t\tthat.item=res.result.data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else if(res.data.default=='配送人员'){\r\n\t\t\t\t\t\tdb.collection('Order_form').where({current:2}).get()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthat.length=res.result.data.length;\r\n\t\t\t\t\t\t\tconsole.log(res.result.data.length)\r\n\t\t\t\t\t\t\tthat.item=res.result.data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdb.collection('Order_form').get()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthat.length=res.result.data.length;\r\n\t\t\t\t\t\t\tconsole.log(res.result.data.length)\r\n\t\t\t\t\t\t\tthat.item=res.result.data;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t},\r\n\t\tonReady(){\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t}, 300);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdrugInfo1(){\r\n\t\t\t\t//空，通过触发父容器事件完成功能\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//药品详情\r\n\t\t\tdrugInfo2(e){\r\n\t\t\t\t//根据单号更新时间\r\n\t\t\t\tconsole.log(e.currentTarget.dataset.id)\r\n\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\tdb.collection('Order_form').where({_id:e.currentTarget.dataset.id}).get()\r\n\t\t\t\t.then(res=>{\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t//存储处方信息\r\n\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\tkey:'drugInfo',\r\n\t\t\t\t\t\tdata:res.result.data[0]\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../drugInfo/drugInfo'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdocEnsure1(){\r\n\t\t\t\t//空，通过触发父容器事件完成功能\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//开始熬制\r\n\t\t\tdocEnsure2(e){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t\t//解析熬制开始时间后传入服务器\r\n\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\tname:'serverDate',\r\n\t\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\t\tvar date,time,ymd,hms,result;\r\n\t\t\t\t\t\t\tdate=res.header.date.split(' ');\r\n\t\t\t\t\t\t\ttime=date[4].split(':');\r\n\t\t\t\t\t\t\t//解析月\r\n\t\t\t\t\t\t\tswitch(date[2]){\r\n\t\t\t\t\t\t\t\tcase \"Jan\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Feb\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=2;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Mar\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=3;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Apr\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=4;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"May\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=5;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Jun\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=6;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Jul\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=7;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Aug\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=8;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Sept\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=9;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Oct\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=10;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Nov\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=11;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"Dec\":\r\n\t\t\t\t\t\t\t\t\tdate[2]=12;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thms=(parseInt(time[0])+8)+':'+time[1]+':'+time[2];\r\n\t\t\t\t\t\t\tymd=date[3]+'/'+date[2]+'/'+date[1];\r\n\t\t\t\t\t\t\tresult=ymd+'|'+hms;\r\n\t\t\t\t\t\t\t// console.log(ymd+'|'+hms);\r\n\t\t\t\t\t\t\t// console.log('res:',res);\r\n\t\t\t\t\t\t\t//根据单号更新时间\r\n\t\t\t\t\t\t\tconsole.log(e.currentTarget.dataset.id)\r\n\t\t\t\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\t\t\t\tdb.collection('Order_form').where({_id:e.currentTarget.dataset.id}).update({\r\n\t\t\t\t\t\t\t\tdecoctTime:hms,\r\n\t\t\t\t\t\t\t\tdecoct:that.name,\r\n\t\t\t\t\t\t\t\tcurrent:1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tdb.collection('Order_form').where({_id:e.currentTarget.dataset.id}).get()\r\n\t\t\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\t\t\t//存储处方信息\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey:'drugInfo',\r\n\t\t\t\t\t\t\t\t\tdata:res.result.data[0]\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t//console.log('index数据：',res.result.data[0])\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:'../boil/boil'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(e){console.log(e)},\r\n\t\t\t\t\t\tcomplete(){}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdistEnsure1(){\r\n\t\t\t\t//空，通过触发父容器事件完成功能\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdistEnsure2(e){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname:'serverDate',\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tvar date,time,ymd,hms,result;\r\n\t\t\t\t\t\tdate=res.header.date.split(' ');\r\n\t\t\t\t\t\ttime=date[4].split(':');\r\n\t\t\t\t\t\t//解析月\r\n\t\t\t\t\t\tswitch(date[2]){\r\n\t\t\t\t\t\t\tcase \"Jan\":\r\n\t\t\t\t\t\t\t\tdate[2]=1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Feb\":\r\n\t\t\t\t\t\t\t\tdate[2]=2;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Mar\":\r\n\t\t\t\t\t\t\t\tdate[2]=3;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Apr\":\r\n\t\t\t\t\t\t\t\tdate[2]=4;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"May\":\r\n\t\t\t\t\t\t\t\tdate[2]=5;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Jun\":\r\n\t\t\t\t\t\t\t\tdate[2]=6;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Jul\":\r\n\t\t\t\t\t\t\t\tdate[2]=7;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Aug\":\r\n\t\t\t\t\t\t\t\tdate[2]=8;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Sept\":\r\n\t\t\t\t\t\t\t\tdate[2]=9;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Oct\":\r\n\t\t\t\t\t\t\t\tdate[2]=10;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Nov\":\r\n\t\t\t\t\t\t\t\tdate[2]=11;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"Dec\":\r\n\t\t\t\t\t\t\t\tdate[2]=12;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thms=(parseInt(time[0])+8)+':'+time[1]+':'+time[2];\r\n\t\t\t\t\t\tymd=date[3]+'/'+date[2]+'/'+date[1];\r\n\t\t\t\t\t\tresult=ymd+'|'+hms;\r\n\t\t\t\t\t\t//根据单号更新时间\r\n\t\t\t\t\t\tconsole.log(e.currentTarget.dataset.id)\r\n\t\t\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\t\t\tdb.collection('Order_form').where({_id:e.currentTarget.dataset.id}).update({\r\n\t\t\t\t\t\t\tdistribTime:hms,\r\n\t\t\t\t\t\t\tdistribute:that.name,\r\n\t\t\t\t\t\t\t//测试用,测试完成后改为3\r\n\t\t\t\t\t\t\tcurrent:2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tdb.collection('Order_form').where({_id:e.currentTarget.dataset.id}).get()\r\n\t\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\t\t//存储处方信息\r\n\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\tkey:'drugInfo',\r\n\t\t\t\t\t\t\t\tdata:res.result.data[0]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:'../distribute/distribute'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\t\tfail(e){console.log(e)},\r\n\t\t\t\t\tcomplete(){}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgoto(e){\r\n\t\t\t\t//判断跳向哪个页面\r\n\t\t\t\tlet data=e.currentTarget.dataset.menu\r\n\t\t\t\tconsole.log('页面参数：',e.currentTarget.dataset.menu)\r\n\t\t\t\tif(data=='搜索订单'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../index/search'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(data=='修改订单'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../index/change2'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(data=='添加用户'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../index/adduser'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(data=='修改用户'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../index/change'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(data=='添加机器'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../index/addmachine'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tmargin: 60rpx 0 20rpx 0;\r\n\t}\r\n\t.none{\r\n\t\theight: 40vh;\r\n\t\twidth: 100vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.box{\r\n\t\theight: 33%;\r\n\t\twidth: 85%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin: 5%;\r\n\t\tpadding: 2.5%;\r\n\t\t/* box-shadow:盒阴影 */\r\n\t\tbox-shadow: 5rpx 5rpx 25rpx 5rpx gainsboro;\r\n\t}\r\n\t.btn{\r\n\t\twidth: 190rpx;\r\n\t\theight: 70rpx;\r\n\t\tposition: relative;\r\n\t\tleft: 35%;\r\n\t\tbackground: #77B307;\r\n\t\tborder-radius: 50rpx;\r\n\t\tmargin: 15rpx 0 15rpx 0;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: white;\r\n\t}\r\n\t.mbtn{\r\n\t\twidth: 60vw;\r\n\t\theight: 70rpx;\r\n\t\tposition: relative;\r\n\t\tleft: 20%;\r\n\t\tbackground: #77B307;\r\n\t\tborder-radius: 50rpx;\r\n\t\tmargin: 35rpx 0 35rpx 0;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: white;\r\n\t}\r\n\t.box2{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 2%;\r\n\t\tpadding: 2%;\r\n\t}\r\n\t.menu{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin: 1% 0 1% 0;\r\n\t\tpadding: 2%;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.3.5.20211229.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1649655084437\n      var cssReload = require(\"D:/HBuilderX.3.3.5.20211229.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}