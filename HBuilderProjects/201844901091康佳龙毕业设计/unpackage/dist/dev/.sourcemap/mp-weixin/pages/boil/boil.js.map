{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?31ae","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?2e77","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?d2b1","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?ddf0","uni-app:///pages/boil/boil.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?32fc","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/201844901091康佳龙毕业设计/pages/boil/boil.vue?d04e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0DlnB,iB,CAAA;AACA,e,CAAA;AACA,iB,CAAA;eACA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,mBAFA;AAGA,UAHA;AAIA,gBAJA;AAKA,iBALA;AAMA,qBANA;AAOA,iBAPA,EAOA;AACA,oBARA,EAQA;AACA;AACA;AACA,kBADA,EACA;AACA,mBAFA,EAEA;AACA,qBAHA,CAGA;AAHA,OAVA;AAeA;AACA;AACA,mBADA,EACA;AACA,iBAFA,CAEA;AAFA,OAhBA;;AAqBA,GAvBA;AAwBA,QAxBA,kBAwBA,CAxBA,EAwBA;AACA;AACA;AACA,kBADA;;AAGA;AACA,qBADA;AAEA;AACA;AACA;AACA;AACA,YADA,CACA;AACA;AACA;AACA;AACA;AACA,iDALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAtBA;AAuBA,OA5BA;;AA8BA,GA3DA;AA4DA,SA5DA,qBA4DA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;;AAIA,GAlEA;AAmEA;AACA,aADA,qBACA,KADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA,CACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCADA;AAEA,yBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BApCA;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;;AAGA;AACA,qCADA;AAEA,qCAFA;AAGA,iCAHA;;;AAMA,mBA7DA;AA8DA,sBA9DA,gBA8DA,CA9DA,EA8DA,iBA9DA;;;;;;AAoEA,eA7EA;AA8EA,aAjFA,MAiFA;AACA;AACA,2BADA;AAEA,mCAFA;AAGA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA,iBATA;;AAWA;AACA,WA1GA;;AA4GA,OA7GA,MA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA,KAhIA;AAiIA,aAjIA,qBAiIA,KAjIA,EAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aATA,MASA;AACA;AACA;AACA,mEADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA,aAPA,MAOA;AACA;AACA;AACA,sEADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;AACA;AACA,SAnCA;;AAqCA,KAzKA;AA0KA,UA1KA,kBA0KA,CA1KA,EA0KA;AACA;AACA;AACA,KA7KA;AA8KA,SA9KA,mBA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,wBAHA;AAIA,iBAJA,qBAIA;AACA;AACA;AACA;AACA,2BADA;AAEA,gCAFA;AAGA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA;AACA;AACA,iBAXA;;AAaA,aAdA,EAcA,IAdA;AAeA,WArBA;;AAuBA,OA7BA,MA6BA;AACA;AACA;AACA,0BADA;;AAGA;AACA,KApNA;AAqNA,OArNA,iBAqNA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;;AAGA,YAHA,CAGA;AACA;AACA,2BADA;AAEA,yBAFA;AAGA,0BAHA;AAIA,mBAJA,qBAIA;AACA;AACA,qCADA;;AAGA,aARA;;AAUA,SAdA;AAeA,OAlBA,MAkBA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA,KAhPA,EAnEA,E;;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/boil/boil.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/boil/boil.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./boil.vue?vue&type=template&id=04479306&\"\nvar renderjs\nimport script from \"./boil.vue?vue&type=script&lang=js&\"\nexport * from \"./boil.vue?vue&type=script&lang=js&\"\nimport style0 from \"./boil.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/boil/boil.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boil.vue?vue&type=template&id=04479306&\"","var components\ntry {\n  components = {\n    wQrcode: function() {\n      return import(\n        /* webpackChunkName: \"wmf-code/components/w-qrcode/index\" */ \"@/wmf-code/components/w-qrcode/index.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boil.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boil.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"box\">\r\n\t\t\t<text style=\"font-size: 35rpx;margin-right: 15rpx;\">处方单号:</text><view style=\"margin: 0 0 50rpx 20rpx;font-size: 35rpx;\">{{drugInfo._id}}</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"line\">\r\n\t\t\t\t\t<text class=\"text\">姓名:</text><view class=\"borderBottom\">{{drugInfo.username}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"line\">\r\n\t\t\t\t\t<text class=\"text2\">电话:</text><view class=\"borderBottom\">{{drugInfo.phone}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"line\">\r\n\t\t\t\t\t<text class=\"text\">熬制人员:</text><view class=\"borderBottom\">{{drugInfo.decoct}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"line\">\r\n\t\t\t\t\t<text class=\"text3\">开始时间:</text><view class=\"borderBottom2\">{{drugInfo.decoctTime}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\" v-if=\"flag\">\r\n\t\t\t\t<text class=\"text4\">本处方部分药品含有毒性，请严格遵守医嘱熬制</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 药品 -->\r\n\t\t\t<view class=\"box2\" @click=\"scancode2\">\r\n\t\t\t\t<!-- item[3]=true表示已选，item[4]=true表示有毒性 -->\r\n\t\t\t\t<view v-for=\"(item,index) in drugInfo.drugInfo\" :class=\"item[3]==true?'drugBox':'drugBox2'\" :key=\"index\">\r\n\t\t\t\t\t<view :class=\"item[4]=='true'?'border2':'border'\">{{item[0]}}</view>\r\n\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t<view class=\"border\">{{item[2]}}</view>\r\n\t\t\t\t\t\t<view class=\"border\">{{item[1]}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<text class=\"text\">建议:{{drugInfo.docAdvice}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<text class=\"text\">熬药机名称：</text><view class=\"borderBottom\">{{drugInfo.numOfDecoct}}</view>\r\n\t\t\t</view>\r\n\t\t\t<button :class=\"drug?'btn':'nbtn'\" @click=\"scancode1\">扫描熬药机二维码</button>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<text class=\"text\">设置熬药提醒时间:</text><picker class=\"borderBottom\" mode=\"time\" value=\"00:30\" @change=\"change\">{{time}}</picker>\r\n\t\t\t\t<button class=\"btn2\" @click=\"start\">开始</button>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<button :class=\"machine?'btn':'nbtn'\" @click=\"end\">熬制完成开始配送</button>\r\n\t\t\t<!-- 条形码 -->\r\n\t\t\t<!-- <w-barcode :options=\"options1\"></w-barcode> -->\r\n\t\t\t<!-- 二维码 -->\r\n\t\t\t<w-qrcode :options=\"options2\"></w-qrcode>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet workers=[];//熬药机工作人员记录\r\n\tlet times=[];//熬药机事件记录\r\n\tlet drugIds=[];//熬药机记录处方\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdrugInfo:'',\r\n\t\t\t\tarrIndex:[0],\r\n\t\t\t\ti:0,\r\n\t\t\t\tlength:'',\r\n\t\t\t\tflag:false,\r\n\t\t\t\ttime:'00时:00分',\r\n\t\t\t\tdrug:false,//药品是否全部正确\r\n\t\t\t\tmachine:false,//机器是否扫描\r\n\t\t\t\t// 条形码\r\n\t\t\t\toptions1:{\r\n\t\t\t\t\twidth: 670, // 宽度 单位rpx\r\n\t\t\t\t\theight: 100, // 高度 单位rpx\r\n\t\t\t\t\tcode: 'EA888',// 生成条形码的值\r\n\t\t\t\t},\r\n\t\t\t\t// 二维码\r\n\t\t\t\toptions2:{\r\n\t\t\t\t\tcode: '222',// 生成二维码的值\r\n\t\t\t\t\tsize: 460,// 460代表生成的二维码的宽高均为460rpx\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tlet that=this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:'加载中'\r\n\t\t\t})\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey:'drugInfo',\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t//可能修改后直接退出，所以根据本地数据更新数据库\r\n\t\t\t\t\tconst db=uniCloud.database();\r\n\t\t\t\t\tdb.collection('Order_form').where({_id:res.data._id}).get()\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tlet r=res.result.data[0];\r\n\t\t\t\t\t\tconsole.log(res.result.data[0]);\r\n\t\t\t\t\t\tthat.drugInfo=r;\r\n\t\t\t\t\t\tconsole.log('数据库数据',r);\r\n\t\t\t\t\t\tthat.options2.code=that.drugInfo._id;//更新二维码显示\r\n\t\t\t\t\t\tconsole.log(that.options2.code)\r\n\t\t\t\t\t\tthat.length=that.drugInfo.drugInfo.length;\r\n\t\t\t\t\t\tconsole.log(\"药品数量：\",that.length);\r\n\t\t\t\t\t\tfor(let m=0;m<that.length;m++){\r\n\t\t\t\t\t\t\tthat.arrIndex[m]=0;\r\n\t\t\t\t\t\t\tif(that.drugInfo.drugInfo[m][4]=='true'){\r\n\t\t\t\t\t\t\t\tconsole.log(that.drugInfo.drugInfo[m][0],\"有毒性\");\r\n\t\t\t\t\t\t\t\tthat.flag=true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(that.arrIndex);\r\n\t\t\t\t\t\t//修改本地数据身份\r\n\t\t\t\t\t\t// let _drugInfo = uni.getStorageSync('drugInfo');\r\n\t\t\t\t\t\t// _drugInfo.drugInfo = that.drugInfo.drugInfo;\r\n\t\t\t\t\t\t// uni.setStorageSync('drugInfo',_drugInfo);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonReady(){\r\n\t\t\tlet that=this;\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t}, 1200);\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tscancode1(event){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t//所有药品信息正确才可扫描熬药机\r\n\t\t\t\tif(that.drug==true){\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\t// 只允许通过相机扫码\r\n\t\t\t\t\t\t//onlyFromCamera: true,\r\n\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t        console.log('条码类型：' + res.scanType);\r\n\t\t\t\t\t        console.log('条码内容：' + res.result);\r\n\t\t\t\t\t\t\tlet rs=res.result;\r\n\t\t\t\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\t\t\t\t\t//扫描熬药机二维码,判断是否是熬药机再更新数据\r\n\t\t\t\t\t\t\t\tlet arr=res.result.split(0);\r\n\t\t\t\t\t\t\t\tconsole.log(\"分割数组：\",arr);\r\n\t\t\t\t\t\t\t\t//判断规则\r\n\t\t\t\t\t\t\t\tif(arr[0]=='NumOfMachine'){\r\n\t\t\t\t\t\t\t\t\tthat.machine=true;\r\n\t\t\t\t\t\t\t\t\tthat.drugInfo.numOfDecoct=res.result;\r\n\t\t\t\t\t\t\t\t\tdb.collection('Boil_machine').where({name:res.result}).get()\r\n\t\t\t\t\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\t\t\t\t\tworkers=res.result.data[0].worker;\r\n\t\t\t\t\t\t\t\t\t\tworkers.push(that.drugInfo.decoct);\r\n\t\t\t\t\t\t\t\t\t\tdrugIds=res.result.data[0].drugId;\r\n\t\t\t\t\t\t\t\t\t\tdrugIds.push(that.drugInfo._id);\r\n\t\t\t\t\t\t\t\t\t\ttimes=res.result.data[0].time;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//当前时间\r\n\t\t\t\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\t\t\t\tname:'serverDate',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar date,time,ymd,hms,result;\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate=res.header.date.split(' ');\r\n\t\t\t\t\t\t\t\t\t\t\t\ttime=date[4].split(':');\r\n\t\t\t\t\t\t\t\t\t\t\t\t//解析月\r\n\t\t\t\t\t\t\t\t\t\t\t\tswitch(date[2]){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Jan\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Feb\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=2;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Mar\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Apr\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=4;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"May\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=5;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Jun\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=6;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Jul\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=7;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Aug\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=8;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Sept\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=9;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Oct\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=10;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Nov\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=11;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"Dec\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate[2]=12;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\thms=(parseInt(time[0])+8)+':'+time[1]+':'+time[2];\r\n\t\t\t\t\t\t\t\t\t\t\t\tymd=date[3]+'/'+date[2]+'/'+date[1];\r\n\t\t\t\t\t\t\t\t\t\t\t\tresult=ymd+'|'+hms;\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(ymd+'|'+hms);\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res:',res);\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimes.push([ymd,hms]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"workers:\",workers,\"times:\",times,\"drugIds:\",drugIds);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdb.collection('Order_form').where({_id:that.drugInfo._id}).update({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnumOfDecoct:rs\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tdb.collection('Boil_machine').where({name:res.result}).update({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdrugId:drugIds,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tworker:workers,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttime:times\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfail(e){console.log(e)}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\t\t\t\t\t\tcontent:'请扫描正确二维码',\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet unselected=[];\r\n\t\t\t\t\tfor(let m=0;m<that.length;m++){\r\n\t\t\t\t\t\tif(that.arrIndex[m]==0){\r\n\t\t\t\t\t\t\tconsole.log(that.drugInfo.drugInfo[m][0],\"未选\");\r\n\t\t\t\t\t\t\tunselected.push(that.drugInfo.drugInfo[m][0])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'提示:'+unselected+'未选',\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(\"未选择药品：\",unselected)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscancode2(event){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t//判断药品信息是否正确\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\t// 只允许通过相机扫码\r\n\t\t\t\t\t\t//onlyFromCamera: true,\r\n\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\r\n\t\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\r\n\t\t\t\t\t\t\t\t//扫描药品二维码，判断是否是药品二维码\r\n\t\t\t\t\t\t\t\tlet j=0;\r\n\t\t\t\t\t\t\t\tfor(j;j<that.length;j++){\r\n\t\t\t\t\t\t\t\t\tif(that.arrIndex[j]==0&&res.result==that.drugInfo.drugInfo[j][0]){\r\n\t\t\t\t\t\t\t\t\t\t//药品二维码正确,arrIndex每个元素对应是否选择,0否1是\r\n\t\t\t\t\t\t\t\t\t\tthat.i+=1;\r\n\t\t\t\t\t\t\t\t\t\tthat.arrIndex[j]=1;\r\n\t\t\t\t\t\t\t\t\t\tthat.drugInfo.drugInfo[j][3]=true;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"已配对数量：\",that.i);\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"已配对药物：\",res.result);\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"arrIndex:\",that.arrIndex)\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}else if(that.arrIndex[j]==1&&res.result==that.drugInfo.drugInfo[j][0]){\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(that.drugInfo.drugInfo[j][0],\"已被选择\")\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:that.drugInfo.drugInfo[j][0]+'已被选择,请勿重复扫码',\r\n\t\t\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}else if(j==that.length-1&&res.result!=that.drugInfo.drugInfo[j][0]){\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"警告:\",that.drugInfo.drugInfo[j][0],\"未在药方中\")\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:'警告:'+that.drugInfo.drugInfo[j][0]+'不在药方中！',\r\n\t\t\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(that.i==that.length)that.drug=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchange(e){\r\n\t\t\t\tthis.time=e.detail.value;\r\n\t\t\t\t//console.log(e)\r\n\t\t\t},\r\n\t\t\tstart(){\r\n\t\t\t\tlet content='';\r\n\t\t\t\tlet hm='',h='',m='',time='';\r\n\t\t\t\tif(this.time!='00时:00分'){\r\n\t\t\t\t\thm=this.time.split(':');\r\n\t\t\t\t\th=hm[0];\r\n\t\t\t\t\tm=hm[1];\r\n\t\t\t\t\ttime=(h*60*60*1000)+(m*60*1000);\r\n\t\t\t\t\tcontent=this.drugInfo.numOfDecoct+'已经完成熬制，请尽快处理';\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'开始计时',\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t//开始计时，完成时提醒\r\n\t\t\t\t\t\t\tlet i=setTimeout(function(){\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\t\t\t\t\tcontent:content,\r\n\t\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(i);\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(i);\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},time);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcontent='请选择时间';\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:content\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tend(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tif(that.machine==true){\r\n\t\t\t\t\t//更新订单状态等待配送人员接单开始配送\r\n\t\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\t\tdb.collection('Order_form').where({_id:that.drugInfo._id}).update({\r\n\t\t\t\t\t\tcurrent:2\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t\ttitle:'熬制完成',\r\n\t\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl:'../index/index'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'提示:请扫描熬药机后再点击此按钮',\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tmargin: 30rpx 0 15rpx 0;\r\n\t}\r\n\t.box{\r\n\t\twidth: 85%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* 副轴居中对齐 */\r\n\t\talign-items: center;\r\n\t\tmargin: 5%;\r\n\t\tpadding: 2.5%;\r\n\t\t/* box-shadow:盒阴影 */\r\n\t\tbox-shadow: 5rpx 5rpx 25rpx 5rpx gainsboro;\r\n\t}\r\n\t.row{\r\n\t\twidth: 90vw;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\tmargin: 0 0 30rpx 0;\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: rgb(72, 190, 163);\r\n\t}\r\n\t.line{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.text{\r\n\t\tmargin: 0 10rpx 0 50rpx;\r\n\t}\r\n\t.text2{\r\n\t\tmargin: 0 10rpx 0 90rpx;\r\n\t}\r\n\t.text3{\r\n\t\tposition: absolute;\r\n\t\tright: 220rpx;\r\n\t}\r\n\t.text4{\r\n\t\twidth: 80vw;\r\n\t\tmargin: 0 10rpx 0 50rpx;\r\n\t\tcolor: #F56C6C;\r\n\t}\r\n\t.borderBottom{\r\n\t\tmargin-right: 30rpx;\r\n\t\tborder-bottom: 1px solid rgb(72, 190, 163);\r\n\t}\r\n\t.borderBottom2{\r\n\t\tposition: absolute;\r\n\t\tright: 80rpx;\r\n\t\tborder-bottom: 1px solid rgb(72, 190, 163);\r\n\t}\r\n\t.row2{\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 0 30rpx 0;\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: rgb(72, 190, 163);\r\n\t}\r\n\t.box2{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-content: space-between;\r\n\t\tmargin: 0 0 30rpx 0;\r\n\t}\r\n\t.drugBox{\r\n\t\theight: 120rpx;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 30rpx 30rpx 30rpx;\r\n\t\tborder: 1px solid rgb(72, 190, 163);\r\n\t}\r\n\t.drugBox2{\r\n\t\theight: 120rpx;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 30rpx 30rpx 30rpx;\r\n\t\tborder: 1px solid rgb(255,10,10);\r\n\t}\r\n\t.border{\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin: 5rpx 10rpx 5rpx 10rpx;\r\n\t\tborder: 1px solid rgb(72, 190, 163);\r\n\t}\r\n\t.border2{\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin: 5rpx 10rpx 5rpx 10rpx;\r\n\t\tborder: 1px solid #EE6363;\r\n\t}\r\n\t.right{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.btn{\r\n\t\theight: 60rpx;\r\n\t\tbackground: #77B307;\r\n\t\tborder-radius: 50rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 25rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: white;\r\n\t}\r\n\t.nbtn{\r\n\t\theight: 60rpx;\r\n\t\tbackground: #DADBDE;\r\n\t\tborder-radius: 50rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 25rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #767A82;\r\n\t}\r\n\t.btn2{\r\n\t\twidth: 120rpx;\r\n\t\theight: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground: #77B307;\r\n\t\tborder-radius: 50rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: white;\r\n\t}\r\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boil.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boil.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654082244895\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}