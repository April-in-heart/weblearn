{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?0684","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?2951","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?d90c","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?044b","uni-app:///components/kk-printer/index.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?bcdf","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/bleprinter-master/components/kk-printer/index.vue?1999"],"names":[],"mappings":"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","file":"components/kk-printer/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=338afa2b&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=338afa2b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"338afa2b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/kk-printer/index.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=338afa2b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !(_vm.filterDeviceList.length <= 0)\n    ? _vm.__map(_vm.filterDeviceList, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var g0 = Math.max(0, item.RSSI + 100)\n        return {\n          $orig: $orig,\n          g0: g0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"kk-printer\">\n\t\t<view class=\"kk-printer-btn\" @tap=\"handlePrintTap\">\n\t\t\t{{isPrinting?printingText:defaultText}}\n\t\t</view>\n\t\t<view class=\"kk-shadow\" :class=\"isShowSearch?'show':''\" @tap=\"handleSearchClose\">\n\t\t\t<view class=\"kk-modal\" @tap.stop=\"doNothing\">\n\t\t\t\t<view class=\"kk-search-device\">\n\t\t\t\t\t<view class=\"kk-filter-wrap\">\n\t\t\t\t\t\t<view class=\"filter-title\">根据SRRI过滤设备</view>\n\t\t\t\t\t\t<slider @change=\"handleSRRIChange\" max='-20' min='-100' value=\"-95\" show-value/>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"kk-filter-wrap\">\n\t\t\t\t\t\t<view class=\"filter-title\">根据蓝牙名过滤</view>\n\t\t\t\t\t\t<input type=\"text\" placeholder-class=\"kk-placeholder-class\" placeholder=\"请输入蓝牙名字或设备ID搜索\" v-model=\"filterName\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"kk-btn-wrap\">\n\t\t\t\t\t\t<view class=\"kk-btn-item confirm-btn\" @tap=\"searchBtnTap\" v-if=\"!isSearching\">\n\t\t\t\t\t\t\t搜索设备\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"kk-btn-item confirm-btn\" v-else>\n\t\t\t\t\t\t\t搜索中...\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"kk-btn-item\" @tap=\"stopSearchBtnTap\">\n\t\t\t\t\t\t\t停止搜索\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"kk-devices-wrap\">\n\t\t\t\t\t\t<view class=\"empty-wrap\" v-if=\"filterDeviceList.length <= 0\">\n\t\t\t\t\t\t\t<view class=\"empty-icon\"></view>\n\t\t\t\t\t\t\t<view class=\"empty-text\">~ 无可搜索到的设备 ~</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"\" v-else>\n\t\t\t\t\t\t\t<view class=\"kk-devices-item\" v-for=\"(item,index) in filterDeviceList\" :key=\"index\" @tap=\"handleConnectDevice(item)\">\n\t\t\t\t\t\t\t\t<view class=\"name\">\n\t\t\t\t\t\t\t\t\t<text>设备名称：</text>\n\t\t\t\t\t\t\t\t\t<text>{{item.name?item.name:'未命名'}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"rssi\">\n\t\t\t\t\t\t\t\t\t<text>信号强度：</text>\n\t\t\t\t\t\t\t\t\t<text>({{Math.max(0, item.RSSI + 100)}}%)</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"deviceid\">\n\t\t\t\t\t\t\t\t\t<text>设备ID：</text>\n\t\t\t\t\t\t\t\t\t<text>{{item.deviceId}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"advmac\" v-if=\"item.advMac\">\n\t\t\t\t\t\t\t\t\t<text>advMac：</text>\n\t\t\t\t\t\t\t\t\t<text>{{item.advMac}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport gbk from '@/components/kk-printer/utils/printUtil-GBK.js';\n\timport * as blesdk from './utils/bluetoolth';\n\timport util from './utils/util.js';\n\texport default {\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\t//是否正在打印\n\t\t\t\tisPrinting:false,\n\t\t\t\t//是否正在搜索设备\n\t\t\t\tisSearching:false,\n\t\t\t\t//是否显示蓝牙列表\n\t\t\t\tisShowSearch:false,\n\t\t\t\t//按蓝牙名过滤\n\t\t\t\tfilterName:'',\n\t\t\t\t//按信号过滤\n\t\t\t\tfilterRSSI:-95,\n\t\t\t\t//设备列表\n\t\t\t\tdevicesList:[],\n\t\t\t\t//连接的设备ID\n\t\t\t\tdeviceId:'',\n\t\t\t\t//根据设备ID获取的服务\n\t\t\t\tservices:'',\n\t\t\t\t//获取特征值时返回的三要素\n\t\t\t\tserviceId: '',\n\t\t\t\twriteId: '', \n\t\t\t\treadId: ''\n\t\t\t}\n\t\t},\n\t\tprops:{\n\t\t\t//按钮默认文字\n\t\t\tdefaultText:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:'打印'\n\t\t\t},\n\t\t\t//按钮打印中的文字\n\t\t\tprintingText:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:'打印中...'\n\t\t\t},\n\t\t\tbufferData:{\n\t\t\t\ttype:String,\n\t\t\t\trequire:true\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tmapFilterRSSI(){\n\t\t\t\treturn (0 - this.filterRSSI)\n\t\t\t},\n\t\t\tfilterDeviceList(){\n\t\t\t\tlet devices = this.devicesList;\n\t\t\t\tlet name = this.filterName;\n\t\t\t\tlet rssi = this.filterRSSI;\n\t\t\t\tconsole.log(devices,name,rssi)\n\t\t\t\t//按RSSI过滤\n\t\t\t\tlet filterDevices1 = devices.filter((item)=>{\n\t\t\t\t\treturn item.RSSI > rssi\n\t\t\t\t})\n\t\t\t\tconsole.log(filterDevices1)\n\t\t\t\t// 按名字过滤\n\t\t\t\tlet filterDevices2\n\t\t\t\tif(name!=''){\n\t\t\t\t\tfilterDevices2 = filterDevices1.filter((item)=>{\n\t\t\t\t\t\treturn (item.name.indexOf(name) >= 0 || item.deviceId.indexOf(name) >= 0)\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tfilterDevices2 = filterDevices1\n\t\t\t\t}\n\t\t\t\t// 根据广播数据提取MAC地址\n\t\t\t\tfor (let i = 0; i < filterDevices2.length;i++) {  \n\t\t\t\t\tif (filterDevices2[i].hasOwnProperty('advertisData')){          \n\t\t\t\t\t\tif (filterDevices2[i].advertisData.byteLength == 8) {\n\t\t\t\t\t\t\tfilterDevices2[i].advMac = util.buf2hex(filterDevices2[i].advertisData.slice(2, 7));\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t\treturn filterDevices2\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t\n\t\t},\n\t\tbeforeDestroy(){\n\t\t\tthis.stopSearchBtnTap();\n\t\t},\n\t\tmethods:{\n\t\t\tdoNothing(){\n\t\t\t\treturn;\n\t\t\t},\n\t\t\t//点击打印按钮\n\t\t\thandlePrintTap(){\n\t\t\t\t//打开蓝牙适配器\n\t\t\t\tblesdk.openBlue().then((res)=>{\n\t\t\t\t\t//获取已连接设备\n\t\t\t\t\tblesdk.getConnectedBluetoothDevices().then((res)=>{\n\t\t\t\t\t\t//若没有已连接设备，弹框搜索设备\n\t\t\t\t\t\tconsole.log(res,this.deviceId,this.serviceId,this.writeId,this.bufferData,this.onPrintSuccess)\n\t\t\t\t\t\tif(res.devices.length == 0){\n\t\t\t\t\t\t\tthis.isShowSearch = true\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlet datalen=20;\n\t\t\t\t\t\t\tif (plus.os.name != 'Android')\n\t\t\t\t\t\t\t{         \n\t\t\t\t\t\t\t  datalen=180;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.isPrinting = true;\n\t\t\t\t\t\t\tthis.$emit('onPrint');\n\t\t\t\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\t\t\t\tconsole.log(1,this.bufferData)\n\t\t\t\t\t\t\t\tif(this.bufferData!=''){\n\t\t\t\t\t\t\t\t\tlet buffer = gbk.strToGBKByte(this.bufferData)\n\t\t\t\t\t\t\t\t\tconsole.log(2,buffer)\n\t\t\t\t\t\t\t\t\tlet opt = {\n\t\t\t\t\t\t\t\t\t\tdeviceId: this.deviceId, \n\t\t\t\t\t\t\t\t\t\tserviceId: this.serviceId, \n\t\t\t\t\t\t\t\t\t\tcharacteristicId: this.writeId,\n\t\t\t\t\t\t\t\t\t\tvalue:buffer,\n\t\t\t\t\t\t\t\t\t\tlasterSuccess: this.onPrintSuccess,\n\t\t\t\t\t\t\t\t\t\tonceLength:datalen\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconsole.log(3,opt)\n\t\t\t\t\t\t\t\t\tblesdk.sendDataToDevice(opt);\n\t\t\t\t\t\t\t\t\tthis.isPrinting = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((err)=>{\n\t\t\t\t\t\tblesdk.catchToast(err);\n\t\t\t\t\t})\n\t\t\t\t}).catch((err)=>{\n\t\t\t\t\tblesdk.catchToast(err);\n\t\t\t\t})\n\t\t\t},\n\t\t\tonGetDevice(res){\n\t\t\t\tthis.devicesList = res;\n\t\t\t},\n\t\t\thandleSearchClose(){\n\t\t\t\tthis.isShowSearch = false\n\t\t\t},\n\t\t\thandleSRRIChange(e){\n\t\t\t\tthis.filterRSSI = e.detail.value\n\t\t\t},\n\t\t\t//开始搜索设备\n\t\t\tsearchBtnTap(){\n\t\t\t\tblesdk.startBluetoothDevicesDiscovery();\n\t\t\t\tthis.isSearching = true;\n\t\t\t\tblesdk.onfindBlueDevices(this.onGetDevice)\n\t\t\t},\n\t\t\t//停止搜索设备\n\t\t\tstopSearchBtnTap(){\n\t\t\t\tblesdk.stopBlueDevicesDiscovery();\n\t\t\t\tthis.isSearching = false;\n\t\t\t},\n\t\t\t//点击连接设备\n\t\t\thandleConnectDevice(device){\n\t\t\t\t\n\t\t\t\tlet deviceId = device.deviceId;\n\t\t\t\tlet name = device.name;\n\t\t\t\tthis.deviceId = deviceId;\n\t\t\t\tconsole.log('deviceId',this.deviceId)\n\t\t\t\t// uni.setStorageSync('k_curDeviceID',deviceId);\n\t\t\t\t// uni.setStorageSync('k_curDeviceName',name);\n\t\t\t\tuni.onBLEConnectionStateChange((res)=>{\n\t\t\t\t\tconsole.log('连接',res)\n\t\t\t\t\tif(res.connected){\n\t\t\t\t\t\tplus.nativeUI.toast('设备'+ res.deviceId + '已连接',{\n\t\t\t\t\t\t\tverticalAlign:'center'\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tplus.nativeUI.toast('设备'+ res.deviceId + '已断开连接',{\n\t\t\t\t\t\t\tverticalAlign:'center'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    })\n\t\t\t\tblesdk.createBLEConnection(deviceId, this.onConnectSuccess, this.onConnectFail);\n\t\t\t},\n\t\t\tonConnectSuccess(res){\n\t\t\t\tthis.stopSearchBtnTap()\n\t\t\t\tblesdk.getBLEDeviceServices(this.deviceId, this.onGetServicesSuccess, this.onGetServicesFail);\n\t\t\t},\n\t\t\tonConnectFail(err){\n\t\t\t\tconsole.log('链接失败',err)\n\t\t\t},\n\t\t\tonGetServicesSuccess(res){\n\t\t\t\tconsole.log('获取服务',res)\n\t\t\t\tthis.services = res.serviceId;\n\t\t\t\tblesdk.getDeviceCharacteristics(this.deviceId, this.services, this.onGetCharacterSuccess, this.onGetCharacterFail);\n\t\t\t},\n\t\t\tonGetServicesFail(err){\n\t\t\t\tconsole.log('获取服务失败')\n\t\t\t},\n\t\t\tonGetCharacterSuccess(res){\n\t\t\t\tconsole.log('获取特征值成功',res)\n\t\t\t\tthis.serviceId = res.serviceId;\n\t\t\t\tthis.writeId = res.writeId;\n\t\t\t\tthis.readId = res.readId;\n\t\t\t\tthis.isShowSearch = false;\n\t\t\t},\n\t\t\tonGetCharacterFail(err){\n\t\t\t\tconsole.log('特征值获取失败')\n\t\t\t},\n\t\t\tonPrintSuccess(){\n\t\t\t\tthis.isPrinting = false;\n\t\t\t\tconsole.log('打印成功')\n\t\t\t\tthis.$emit('onPrintSuccess')\n\t\t\t},\n\t\t\tonPrintFail(){\n\t\t\t\tconsole.log('打印失败')\n\t\t\t\tthis.isPrinting = false;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.kk-printer{\n\t\t&-btn{\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t}\n\t\t.kk-shadow{\n\t\t\tdisplay: none;\n\t\t\t&.show{\n\t\t\t\tdisplay: block;\n\t\t\t\twidth:100vw;\n\t\t\t\theight:100vh;\n\t\t\t\tbackground: rgba(0,0,0,0.4);\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\t.kk-modal{\n\t\t\t\t\twidth:680upx;\n\t\t\t\t\theight: 80%;\n\t\t\t\t\tpadding:24upx;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tborder-radius: 20upx;\n\t\t\t\t\tbackground: #ffffff;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\t.kk-search-device{\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t.kk-filter-wrap{\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight: 160upx;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\t\t\talign-items: flex-start;\n\t\t\t\t\t\t\t.filter-title{\n\t\t\t\t\t\t\t\tline-height: 70upx;\n\t\t\t\t\t\t\t\tfont-size: 30upx;\n\t\t\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t&>slider{\n\t\t\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\t\t\theight: 90upx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t&>input{\n\t\t\t\t\t\t\t\tpadding:0 20upx;\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\t\tborder-radius: 10upx;\n\t\t\t\t\t\t\t\theight: 90upx;\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\tborder: 1upx solid #ebebeb;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.kk-btn-wrap{\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight: 140upx;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t&>view{\n\t\t\t\t\t\t\t\tflex:1 1 auto;\n\t\t\t\t\t\t\t\theight: 100upx;\n\t\t\t\t\t\t\t\tline-height: 100upx;\n\t\t\t\t\t\t\t\tborder-radius: 16upx;\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tcolor:#ffffff;\n\t\t\t\t\t\t\t\t&.confirm-btn{\n\t\t\t\t\t\t\t\t\tbackground: #007AFF;\n\t\t\t\t\t\t\t\t\tmargin-right:30upx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&:nth-last-child(1){\n\t\t\t\t\t\t\t\t\tbackground: #DD524D;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.kk-devices-wrap{\n\t\t\t\t\t\t\theight: calc(100% - 460upx);\n\t\t\t\t\t\t\toverflow-y:auto;\n\t\t\t\t\t\t\tpadding:10upx 20upx;\n\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\tborder: 1upx solid #ebebeb;\n\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\tborder-radius: 20upx;\n\t\t\t\t\t\t\t.empty-wrap{\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\t.empty-icon{\n\t\t\t\t\t\t\t\t\twidth:268upx;\n\t\t\t\t\t\t\t\t\theight: 240upx;\n\t\t\t\t\t\t\t\t\tbackground: url('./empty-icon.png') no-repeat;\n\t\t\t\t\t\t\t\t\tbackground-size:100% 100%;\n\t\t\t\t\t\t\t\t\tmargin-bottom: 26upx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.empty-text{\n\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\tline-height: 50upx;\n\t\t\t\t\t\t\t\t\tfont-size: 30upx;\n\t\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.kk-devices-item{\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\tborder-bottom: 1upx solid #ebebeb;\n\t\t\t\t\t\t\t\tpadding:10upx 0;\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\t\t&:nth-last-child(1){\n\t\t\t\t\t\t\t\t\tborder-bottom: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&>view{\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\tfont-size: 30upx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t.kk-placeholder-class{\n\t\tfont-size: 30upx;\n\t\tcolor:#999999;\n\t}\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=338afa2b&lang=scss&scoped=true&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=338afa2b&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1648085025143\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}