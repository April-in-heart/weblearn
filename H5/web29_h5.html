<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>web worker</title>
	</head>
	<body>
		<div id="div_1">div_1</div>
		<div id="div_2">div_2</div>
		<script>
			if(typeof(Worker!=undefined)){
				var objMyWorker=new Worker("web29_h5.js");
				objMyWorker.onmessage=function(event){
					document.getElementById("div_1").innerHTML=event.data;
				}
			}else{
				console.log("浏览器不支持");
			}
			var counter=0;
			function myCounter(){
				counter++;
				document.getElementById("div_2").innerHTML=counter;
				if(counter==10){
					alert("wait a minite");//主线程停止后子线程还在运行只是界面没有刷新
				}
				window.setTimeout(myCounter,1000);
			}
			myCounter();
		</script>
	</body>
</html>
