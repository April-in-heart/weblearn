<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>飞机大战</title>
	</head>
	<body>
		<script>
			var ctx=createCtx("canvas_1",300,600);
			var backgroundImage=new Image();
			backgroundImage.src="./1.html/image/start_1.png";
			backgroundImage.onload=function(){
				ctx.drawImage(backgroundImage,0,0,300,600);
			}
			var planeImage=new Image();
			planeImage.src="./1.html/image/plane_my.gif";
			planeImage.onload=function(){
				ctx.drawImage(planeImage,100,500,66,88);
			}
			var plane_y=500;
			var imgData=null;
			function move(){
				
				if(imgData!=null){
					ctx.putImageData(imgData,100,plane_y+1);
				}
				//抠图
				imgData=ctx.getImageData(100,plane_y,66,88);
				
				ctx.drawImage(planeImage,100,plane_y,66,88)
				plane_y-=1;
				window.setTimeout(move,1);
			}
			move();
			
			function createCtx(id,width,height){
				var canvas=document.createElement("canvas");
				canvas.id=id;
				canvas.width=width;
				canvas.height=height;
				canvas.style.position="absolute";
				canvas.style.top="1px";
				canvas.style.left="1px";
				canvas.style.border="solid 1px #ff0000";
				document.body.appendChild(canvas);
				var ctx=canvas.getContext("2d");
				return ctx;
			}
		</script>
	</body>
</html>
