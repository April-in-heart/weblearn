<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>飞机</title>
		<!-- meta使用viewport保证页面可自由缩放 -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<script>
			let alpha,beta,gamma;
			console.log(alpha,beta,gamma);
			if(window.DeviceOrientationEvent){
				//16ms一次，60帧
				window.addEventListener("deviceorientation",orientationHandler,false);
			}else{
				console.log("不支持")
			}
			let plane=document.createElement("img");
			plane.style.position="absolute";
			plane.style.top="400px";
			plane.style.left="150px";
			plane.src="1.html/image/plane_my.gif";
			document.body.appendChild(plane);
			function orientationHandler(event){
				alpha=event.alpha;
				beta=event.beta;
				gamma=event.gamma;
			}
			function movePlane(){
				if(gamma>0){
					plane.style.left=parseInt(plane.style.left)+1+Math.abs(parseInt(gamma/5))+"px";
				}else{
					plane.style.left=parseInt(plane.style.left)-1-Math.abs(parseInt(gamma/5))+"px";
				}
				if(beta>0){
					plane.style.top=parseInt(plane.style.top)+1+Math.abs(parseInt(beta/5))+"px";
				}else{
					plane.style.top=parseInt(plane.style.top)-1-Math.abs(parseInt(beta/5))+"px";
				}
				window.setTimeout(movePlane,16);
			}
			movePlane();
		</script>
	</body>
</html>
